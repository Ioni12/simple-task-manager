<div class="user-header">
  <h2>Welcome <%= user.name %></h2>
  <a href="/logout" class="btn-logout">Logout</a>
</div>

<div class="task-form">
  <form action="/" method="POST">
    <input type="text" name="title" placeholder="Add a new task..." required />
    <button type="submit">Add Task</button>
  </form>
</div>

<div class="task-list">
  <% if(tasks.length > 0) { %>
  <ul>
    <% tasks.forEach(task => { %>
    <li class="<%= task.completed ? 'completed' : '' %>">
      <span><%= task.title %></span>
      <div class="actions">
        <form action="/<%= task._id %>?_method=PATCH" method="POST">
          <button type="submit" class="toggle-btn">
            <%= task.completed ? 'Undo' : 'Complete' %>
          </button>
        </form>

        <form action="/<%= task._id %>?_method=DELETE" method="POST">
          <button type="submit" class="delete-btn">Delete</button>
        </form>
      </div>
    </li>
    <% }) %>
  </ul>
  <% } else { %>
  <p>No tasks found. Add a task to get started!</p>
  <% } %>
</div>
